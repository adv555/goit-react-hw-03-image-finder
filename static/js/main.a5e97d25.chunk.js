(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),c=a.n(r),s=(a(15),a(4)),i=a(5),h=a(7),l=a(6),u=a(8),b=(a(16),a(17),a(10)),p=a.n(b),d=a(1),m=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchQuery:""},e.handleChange=function(t){e.setState({searchQuery:t.currentTarget.value.toLowerCase()}),console.log(e.state)},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.searchQuery.trim())return u.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0417\u0430\u043f\u0440\u043e\u0441");console.log(e.state),e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),f=m;function g(e){e.props;return Object(d.jsx)("button",{type:"button",name:"Load more",className:"Button",style:{color:"white",margin:"0 auto"},children:Object(d.jsx)("span",{className:"lable",children:"Load more"})})}var j=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchQuery:"",images:null,loading:!1,loadMore:!1},e.handleFormSubmit=function(t){console.log(t),e.setState({searchQuery:t}),console.log(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("https://pixabay.com/api/?q=cat&page=1&key=22901299-3a9abb112bfd753d84521cd93&image_type=photo&orientation=horizontal&per_page=12").then((function(e){return e.json()})).then((function(e){return e.hits})).then((function(t){e.setState({images:t}),console.log(e.state)})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({loading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.searchQuery!==this.state.searchQuery&&(console.log("\u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),this.setState({loading:!0}),fetch("https://pixabay.com/api/?q=".concat(this.state.searchQuery,"&page=1&key=22901299-3a9abb112bfd753d84521cd93&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits})).then((function(e){a.setState({images:e}),console.log(a.state)})).catch((function(e){return console.log(e)})).finally((function(){return a.setState({loading:!1})})))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{onSubmit:this.handleFormSubmit}),this.state.loading&&Object(d.jsx)(p.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80}),this.state.loadMore&&Object(d.jsx)(g,{}),Object(d.jsx)(u.a,{autoClose:3e3,theme:"colored"})]})}}]),a}(n.Component),y=j;c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a5e97d25.chunk.js.map