{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Scroll/Scroll.jsx","service/Api.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGalleryList/ImageGalleryList.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["SearchBar","state","searchQuery","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ScrollContent","window","scrollTo","top","document","documentElement","scrollHeight","behavior","API_KEY","BASE_URL","FetchImages","page","perPage","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","largeImageURL","tags","src","alt","ImageGalleryList","images","map","image","id","Button","onClick","name","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","children","ImageGallery","loadMore","status","showModal","imageAlt","onLoadMore","toggleModal","onImageClick","nodeName","dataSrc","dataset","handleClick","prevProps","prevState","prevSearchQuery","nextSearchQuery","prevPage","nextPage","hits","catch","style","color","height","width","message","length","maxHeight","background","App","handleFormSubmit","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"qRAGMA,E,4MACJC,MAAQ,CACNC,YAAa,I,EAEfC,aAAe,SAAAC,GAEb,EAAKC,SAAS,CAAEH,YAAaE,EAAEE,cAAcC,MAAMC,iB,EAIrDC,aAAe,SAAAL,GAEb,GADAA,EAAEM,iBACoC,KAAlC,EAAKT,MAAMC,YAAYS,OACzB,OAAOC,IAAMC,MAAM,sGAIrB,EAAKC,MAAMC,SAAS,EAAKd,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,M,4CAE/B,WACE,OACE,wBAAQc,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaD,SAAUE,KAAKR,aAA5C,UACE,wBAAQS,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUL,KAAKd,wB,GAlCHoB,aA0CTvB,I,yBCtCAwB,EAPO,WACpBC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,SCHRC,EAAO,qCACPC,EAAQ,2BAiBCC,EAfK,SAAChC,GAAyC,IAA5BiC,EAA2B,uDAApB,EAAGC,EAAiB,uDAAP,GAC9CC,EAAG,UAAMJ,EAAN,cAAoB/B,EAApB,iBAAwCiC,EAAxC,gBAAoDH,EAApD,6DAAgHI,GAEzH,OAAOE,MAAMD,GAAKE,MAAK,SAAAC,GAErB,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OACb,IAAIC,MAAJ,iGACsB,EAAK5C,MAAMC,YADjC,wG,QCVS,SAAS4C,EAAT,GAIX,IAHFC,EAGC,EAHDA,aACAC,EAEC,EAFDA,cACAC,EACC,EADDA,KAGA,OACE,mCACE,qBAEEC,IAAKH,EACL,WAAUC,EACVG,IAAKF,EACLjC,UAAU,6BCZH,SAASoC,EAAT,GAAuC,IAAXC,EAAU,EAAVA,OAEzC,OACE,oBAAIrC,UAAU,eAAd,SACGqC,EAAOC,KAAI,SAAAC,GAAK,OACf,oBAAIvC,UAAU,mBAAd,SACE,cAAC8B,EAAD,eAAsBS,KADcA,EAAMC,SCRrC,SAASC,EAAT,GAA8B,IAAZC,EAAW,EAAXA,QAC/B,OACE,wBAAQxC,KAAK,SAASyC,KAAK,YAAY3C,UAAU,SAAS0C,QAASA,EAAnE,SACE,sBAAM1C,UAAU,QAAhB,yBCAN,IAAM4C,EAAYhC,SAASiC,cAAc,eAEnCC,E,4MASJC,cAAgB,SAAA3D,GACC,WAAXA,EAAE4D,MACJ,EAAKlD,MAAMmD,W,EAGfC,oBAAsB,SAAA9D,GAChBA,EAAEE,gBAAkBF,EAAE+D,QACxB,EAAKrD,MAAMmD,W,uDAff,WAEExC,OAAO2C,iBAAiB,UAAWnD,KAAK8C,iB,kCAE1C,WAEEtC,OAAO4C,oBAAoB,UAAWpD,KAAK8C,iB,oBAa7C,WACE,OAAOO,uBACL,qBAAKtD,UAAU,UAAU0C,QAASzC,KAAKiD,oBAAvC,SACE,qBAAKlD,UAAU,QAAf,SAAwBC,KAAKH,MAAMyD,aAErCX,O,GAzBcrC,aA8BLuC,IC1BTU,E,4MACJvE,MAAQ,CAENoD,OAAQ,GACRlB,KAAM,EACNsC,UAAU,EACV5D,MAAO,KACP6D,OAAQ,OACRC,WAAW,EACX3B,cAAe,GACf4B,SAAU,I,EAoCZC,WAAa,WACX,IAAQ1C,EAAS,EAAKlC,MAAdkC,KACR,EAAK9B,SAAS,CAAE8B,KAAMA,EAAO,K,EAG/B2C,YAAc,WACZ,EAAKzE,UAAS,kBAAoB,CAAEsE,WAAtB,EAAGA,e,EAGnBI,aAAe,SAAA3E,GAEb,GAA0B,QAAtBA,EAAE+D,OAAOa,SAAoB,CAC/B,IAAMC,EAAU7E,EAAE+D,OAAOe,QAAQhC,IAC3BC,EAAM/C,EAAE+D,OAAOhB,IACrB,EAAK9C,SAAS,CAAE2C,cAAeiC,EAASL,SAAUzB,IAClD,EAAK2B,gB,uDAjDT,WAEErD,OAAO2C,iBAAiB,QAASnD,KAAK8D,gB,kCAExC,WAEEtD,OAAO4C,oBAAoB,QAASpD,KAAKkE,e,gCAG3C,SAAmBC,EAAWC,GAAY,IAAD,OACjCC,EAAkBF,EAAUlF,YAC5BqF,EAAkBtE,KAAKH,MAAMZ,YAC7BsF,EAAWH,EAAUlD,KACrBsD,EAAWxE,KAAKhB,MAAMkC,KAExBmD,IAAoBC,GAAmBC,IAAaC,IACtDxE,KAAKZ,SAAS,CAAEqE,OAAQ,YAExBxC,EAAYqD,EAAiBE,GAC1BlD,MAAK,SAAAc,GAAM,OAAIA,EAAOqC,QACtBnD,MAAK,SAAAc,GACJ,EAAKhD,SAAS,CACZgD,OAAO,GAAD,mBAAMgC,EAAUhC,QAAhB,YAA2BA,IACjCoB,UAAU,EACVC,OAAQ,aAENe,EAAW,GACbjE,OAGHmE,OAAM,SAAA9E,GAAK,OAAI,EAAKR,SAAS,CAAEQ,QAAO6D,OAAQ,mB,oBAuBrD,WACE,MAQIzD,KAAKhB,MAPPyE,EADF,EACEA,OACA7D,EAFF,EAEEA,MACAwC,EAHF,EAGEA,OACAoB,EAJF,EAIEA,SACAE,EALF,EAKEA,UACA3B,EANF,EAMEA,cACA4B,EAPF,EAOEA,SAGF,MAAe,SAAXF,EACK,oBAAIkB,MAAO,CAAEC,MAAO,WAApB,gCAEM,YAAXnB,EAEA,8BACE,cAAC,IAAD,CAAQxD,KAAK,YAAY2E,MAAM,UAAUC,OAAQ,GAAIC,MAAO,OAInD,aAAXrB,EAA8B,6BAAK7D,EAAMmF,UAE9B,aAAXtB,GAAyBrB,EAAO4C,OAAS,EAEzC,oBAAIL,MAAO,CAAEC,MAAO,UAApB,0EAKW,aAAXnB,EAEA,gCACE,cAACtB,EAAD,CAAkBC,OAAQA,IACzBoB,GAAY,cAAChB,EAAD,CAAQC,QAASzC,KAAK4D,aAElCF,GACC,cAAC,EAAD,CAAOV,QAAShD,KAAK6D,YAArB,SACE,qBACE5B,IAAKF,EACLG,IAAKyB,EACLgB,MAAO,CAAEM,UAAW,OAAQC,WAAY,qBAXpD,M,GA/FuB5E,aAmHZiD,ICrHT4B,E,4MACJnG,MAAQ,CACNC,YAAa,I,EAGfmG,iBAAmB,SAAAnG,GAEjB,EAAKG,SAAS,CAAEH,YAAaA,K,4CAG/B,WACE,IAAQA,EAAgBe,KAAKhB,MAArBC,YAER,OACE,sBAAKc,UAAU,MAAf,UACE,cAAC,EAAD,CAAWD,SAAUE,KAAKoF,mBAE1B,cAAC,EAAD,CAAcnG,YAAaA,IAE3B,cAAC,IAAD,CAAgBoG,UAAW,IAAMC,MAAO,mB,GAnB9BhF,aAyBH6E,IC1BfI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9E,SAAS+E,eAAe,W","file":"static/js/main.7a8b88a0.chunk.js","sourcesContent":["import { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nclass SearchBar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleChange = e => {\n    // console.log(e.currentTarget.value);\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n    // console.log(this.state);\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      return toast.error('Введите Ваш Запрос');\n    }\n\n    // console.log(this.state);\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","const ScrollContent = () => {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n\nexport default ScrollContent;\n","const API_KEY = `22901299-3a9abb112bfd753d84521cd93`;\nconst BASE_URL = `https://pixabay.com/api/`;\n\nconst FetchImages = (searchQuery, page = 1, perPage = 12) => {\n  const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\n\n  return fetch(url).then(response => {\n    // console.log(searchQuery);\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(\n        `по вашему запосу ${this.state.searchQuery}  нічего не найдено`,\n      ),\n    ); // если 404\n  });\n};\nexport default FetchImages;\n","// import PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n}) {\n  // console.log(largeImageURL);\n  return (\n    <>\n      <img\n        // onClick={onClick(largeImageURL)}\n        src={webformatURL}\n        data-src={largeImageURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </>\n  );\n}\n","// import React, { Component } from 'react';\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\n\nexport default function ImageGalleryList({ images }) {\n  // console.log(images);\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(image => (\n        <li className=\"ImageGalleryItem\" key={image.id}>\n          <ImageGalleryItem {...image} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","export default function Button({ onClick }) {\n  return (\n    <button type=\"button\" name=\"Load more\" className=\"Button\" onClick={onClick}>\n      <span className=\"lable\">Load more</span>\n    </button>\n  );\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    // console.log('ModalDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    // console.log('ModalUnMount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n\n// import * as basicLightbox from 'basiclightbox';\n\n// export default function (e) {\n//   const dataSrc = e.target.dataset.src;\n//   // console.log(e.target.nodeName);\n//   // console.log(dataSrc);\n//   if (e.target.nodeName !== 'IMG') {\n//     return;\n//   } else if (dataSrc) {\n//     const instance = basicLightbox.create(`\n//         <img src=\"${dataSrc}\" width=\"800\" height=\"600\">\n//     `);\n\n//     instance.show();\n//   }\n// }\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport ScrollContent from 'components/Scroll';\n\nimport FetchImages from 'service/Api';\nimport ImageGalleryList from 'components/ImageGallery/ImageGalleryList';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\n\nclass ImageGallery extends Component {\n  state = {\n    // searchQuery: '',\n    images: [],\n    page: 1,\n    loadMore: false,\n    error: null,\n    status: 'idle',\n    showModal: false,\n    largeImageURL: '',\n    imageAlt: '',\n  };\n  componentDidMount() {\n    // console.log('ModalDidMount');\n    window.addEventListener('click', this.onImageClick);\n  }\n  componentWillUnmount() {\n    // console.log('ModalUnMount');\n    window.removeEventListener('click', this.handleClick);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearchQuery = prevProps.searchQuery;\n    const nextSearchQuery = this.props.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearchQuery !== nextSearchQuery || prevPage !== nextPage) {\n      this.setState({ status: 'pending' });\n\n      FetchImages(nextSearchQuery, nextPage)\n        .then(images => images.hits)\n        .then(images => {\n          this.setState({\n            images: [...prevState.images, ...images],\n            loadMore: true,\n            status: 'resolved',\n          });\n          if (nextPage > 1) {\n            ScrollContent();\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' })); //== если не 404\n    }\n  }\n\n  onLoadMore = () => {\n    const { page } = this.state;\n    this.setState({ page: page + 1 });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  onImageClick = e => {\n    // console.log(e.target.nodeName);\n    if (e.target.nodeName === 'IMG') {\n      const dataSrc = e.target.dataset.src;\n      const alt = e.target.alt;\n      this.setState({ largeImageURL: dataSrc, imageAlt: alt });\n      this.toggleModal();\n    }\n  };\n\n  render() {\n    const {\n      status,\n      error,\n      images,\n      loadMore,\n      showModal,\n      largeImageURL,\n      imageAlt,\n    } = this.state;\n\n    if (status === 'idle')\n      return <h1 style={{ color: '#3f51b5' }}>Enter Your Request</h1>;\n\n    if (status === 'pending')\n      return (\n        <div>\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n        </div>\n      );\n\n    if (status === 'rejected') return <h1>{error.message}</h1>;\n\n    if (status === 'resolved' && images.length < 1)\n      return (\n        <h2 style={{ color: 'tomato' }}>\n          No image has been found. Please enter a more specific query!\n        </h2>\n      );\n\n    if (status === 'resolved')\n      return (\n        <div>\n          <ImageGalleryList images={images} />\n          {loadMore && <Button onClick={this.onLoadMore} />}\n\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img\n                src={largeImageURL}\n                alt={imageAlt}\n                style={{ maxHeight: '80vh', background: 'white' }}\n              />\n            </Modal>\n          )}\n        </div>\n      );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport SearchBar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    // console.log(searchQuery);\n    this.setState({ searchQuery: searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery searchQuery={searchQuery} />\n\n        <ToastContainer autoClose={3000} theme={'colored'} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}